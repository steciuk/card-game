<form #form="ngForm" (ngSubmit)="onSubmit(form)">
	<div>
		<div>
			<label for="roomName">Room name</label>
			<input
				id="roomName"
				class="form-control"
				type="text"
				required
				minlength="3"
				maxlength="20"
				pattern="[a-zA-Z0-9_]+"
				ngModel
				name="roomName"
				#roomName="ngModel"
			/>
			<div *ngIf="roomName.touched && !roomName.valid">
				<div *ngIf="roomName.errors?.required">Room name required</div>
				<div *ngIf="roomName.errors?.minlength">
					Min {{ roomName.errors?.minlength.requiredLength }} characters
				</div>
				<div *ngIf="roomName.errors?.maxlength">
					Max {{ roomName.errors?.maxlength.requiredLength }} characters
				</div>
				<div *ngIf="roomName.errors?.pattern">Only alphanumeric and underscore allowed</div>
			</div>
		</div>
		<div>
			<label for="gameType">Game type</label>
			<select class="form-control" id="gameType" required [(ngModel)]="gameTypes[0]" name="gameType">
				<option *ngFor="let gameTypeValue of gameTypes" [ngValue]="gameTypeValue">
					{{ gameTypeValue }}
				</option>
			</select>
		</div>
		<div>
			<label for="maxPlayers">Max players</label>
			<select
				class="form-control"
				id="maxPlayers"
				required
				[(ngModel)]="numPlayersOptions[0]"
				name="maxPlayers"
			>
				<option *ngFor="let numPlayers of numPlayersOptions" [ngValue]="numPlayers">
					{{ numPlayers }}
				</option>
			</select>
		</div>
		<!-- TODO: implement toggle instead checkbox-->
		<div class="form-check form-switch">
			<input
				class="form-check-input"
				type="checkbox"
				id="isPasswordProtected"
				[(ngModel)]="isPasswordProtectedModel"
				name="isPasswordProtected"
			/>
			<label class="form-check-label" for="isPasswordProtected">Protect game room with password</label>
		</div>
		<div *ngIf="isPasswordProtectedModel">
			<label for="password">Password</label>
			<input
				id="password"
				class="form-control"
				type="password"
				required
				minlength="3"
				maxlength="20"
				pattern="[a-zA-Z0-9!@#$%^&*]+"
				ngModel
				name="password"
				#password="ngModel"
			/>
			<div *ngIf="password.touched && !password.valid">
				<div *ngIf="password.errors?.minlength">
					Min {{ password.errors?.minlength.requiredLength }} characters
				</div>
				<div *ngIf="password.errors?.maxlength">
					Max {{ password.errors?.maxlength.requiredLength }} characters
				</div>
				<div *ngIf="password.errors?.pattern">Only alphanumeric and !@#$%^&* allowed</div>
			</div>
		</div>
	</div>
	<button type="submit" [disabled]="form.invalid">Create new game room</button>
</form>
